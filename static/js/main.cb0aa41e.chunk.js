(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,n){e.exports=n(395)},170:function(e,t,n){},177:function(e,t){},179:function(e,t){},211:function(e,t){},212:function(e,t){},258:function(e,t,n){},301:function(e,t){},395:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n.n(a),c=n(160),o=n.n(c),s=(n(170),n(29)),i=n.n(s),u=n(64),l=n(62),h=n(63),d=n(163),p=n(161),f=n(164),m=n(92),v=(n(258),function(){function e(){Object(l.a)(this,e),this.synth=window.speechSynthesis,this.utterance=new SpeechSynthesisUtterance,this.utterance.onend=function(){return console.log("speaking finished")},this.utterance.onerror=function(){return console.error("speaking error")},this.utterance.pitch=1,this.utterance.rate=1,this.utterance.volume=1,this.utterance.voice=this.synth.getVoices().find(function(e){return"Fred"===e.name})}return Object(h.a)(e,[{key:"speak",value:function(e){this.synth.speaking?console.error("speechSynthesis.speaking"):e&&(this.utterance.text=e,this.synth.speak(this.utterance))}}]),e}()),w=n(162),b=function(e){function t(){var e;Object(l.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).loadVocab=Object(u.a)(i.a.mark(function t(){var n,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.location.href+"/vocab.json",a={uri:n,json:!0},t.next=4,w.get(a);case 4:return e.vocab=t.sent,t.abrupt("return");case 6:case"end":return t.stop()}},t,this)})),e.loadModel=Object(u.a)(i.a.mark(function t(){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a("/unswear/model.json");case 2:return n=t.sent,e.setState({model:n}),t.abrupt("return");case 5:case"end":return t.stop()}},t,this)})),e.calculate=function(){var t=Object(u.a)(i.a.mark(function t(n){var a,r,c,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.initData,!n||!e.state.model){t.next=9;break}return r=m.b([1,100]).buffer(),c=n.split(" "),o=0,c.forEach(function(t){e.vocab.hasOwnProperty(t)&&(r.set(e.vocab[t],0,o),o++)}),t.next=8,e.state.model.predict(r.toTensor()).data();case 8:a=t.sent;case 9:e.setState({data:a});case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.onChangeText=function(t){var n=t.target.value;e.setState({text:n}),n&&(e.text2Speech.speak(n),e.calculate(n.toLowerCase()))},e.renderScore=function(e){return Math.round(1e3*e)/10+"%"},e.ScoreList=function(t){var n=t.data;return r.a.createElement("div",{className:"results"},r.a.createElement("div",null,r.a.createElement("span",null,"toxic ",e.renderScore(n[0]))),r.a.createElement("div",null,r.a.createElement("span",null,"severe toxic ",e.renderScore(n[1]))),r.a.createElement("div",null,r.a.createElement("span",null,"obscene ",e.renderScore(n[2]))),r.a.createElement("div",null,r.a.createElement("span",null,"threat ",e.renderScore(n[3]))),r.a.createElement("div",null,r.a.createElement("span",null,"insult ",e.renderScore(n[4]))),r.a.createElement("div",null,r.a.createElement("span",null,"identity hate ",e.renderScore(n[5]))))},e.initData=[0,0,0,0,0,0],e.vocab=null,e.state={text:"",model:null,data:e.initData},e.loadModel();return e.text2Speech=new v,e.text2Speech.speak("Me Fred. Me help you unswear"),Promise.all([e.loadVocab(),e.loadModel()]).then(function(t){e.calculate(e.state.text)},function(e){}),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(this.ScoreList,{data:this.state.data}),r.a.createElement("input",{type:"text",onBlur:this.onChangeText}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[165,2,1]]]);
//# sourceMappingURL=main.cb0aa41e.chunk.js.map